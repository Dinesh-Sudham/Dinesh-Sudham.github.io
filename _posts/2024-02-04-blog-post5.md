---
title: 'RDMA Basics'
date: 2024-10-02
permalink: /posts/2024/02/blog-post-5/
tags:
  - cool posts
  - category1
  - category2
---

Remote Direct Memory Access (RDMA) architecture enables efficient data transfer between Compute Nodes (CN) in a High-Performance Computing (HPC) environment. RDMA over Converged Ethernet version 2 (RoCEv2) utilizes a routed IP Fabric as a transport network for RDMA messages. Due to the nature of RDMA packet flow, the transport network must provide lossless, low-latency packet transmission. The RoCEv2 solution uses UDP in the transport layer, which does not handle packet losses caused by network congestion (buffer overflow on switches or on a receiving Compute Node). To avoid buffer overflow issues, Priority Flow Control (PFC) and Explicit Congestion Notification (ECN) are used as signaling mechanisms to react to buffer threshold violations by requesting a lower packet transfer rate. 


# Host Channel Adapter(HCA)
  A Host Channel Adapter (HCA) is a hardware device that connects a host system to an RDMA-enabled network, such as InfiniBand or RoCE (RDMA over Converged Ethernet).

# libibvers
RDMA Verbs are a set of software interfaces that allow applications to communicate with RDMA devices, enabling RDMA operations such as data transfer, memory registration, and queue management.


RoCEv1 : Ethertype 0x8915

RoCEv2 : UDP port 4791

QP: Queue Pair

SQ: Send Queue

RQ: Receive Queue

SRQ: Shared Receive Queue

WR: Work request

RWR: Receive work Request

WC: Work Completion

WQE: Work Queue Element (wookie)

CQE: Completion Queue Element (cookie)

VA: Virtual Address

ULP: Upper Layer Protocal

RC: Reliable Connection
  Deliver in order similar to TCP

UC: Unreliable Connection
  Delivery is not guaranted, packets may be lost

UD: Unreliable Datagram
  No Order guanranted

GRH: Global Routing Header

PD: Protection Domain

MR: Memory Registration

CM: Communication Manager




##RDMA transport Operations 

RDMA SEND
RDMA RECV
RDMA READ
RDMA WRITE
RDMA ATOMIC
